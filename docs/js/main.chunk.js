(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(8);var r={name:"My name is kiran"};var a={name:"je m'appelle kiran"};const o=[{path:"",redirectTo:"/home"},{path:"/home",template:"<sample-ele></sample-ele>",templatePath:()=>i.e(3).then(i.bind(null,31)).then(t=>t.default)},{path:"/persons/:id",template:"<persons-list></persons-list>",templatePath:()=>i.e(1).then(i.bind(null,32)).then(t=>t.default)}];s.d.registerRoutes(o);let l=class{constructor(t,e){this.router=t,this.translations=e,this.inputField=Object(s.g)(null),this.navigate=t=>{this.router.navigateTo(t)},e.setTranslate(r,"en"),e.setTranslate(a,"fr"),e.setDefaultLanguage("en")}getRef(){console.log(this.inputField)}render(){return s.f`
		 <div>
			<ul>
				<li>
					<a onclick=${()=>{this.navigate("/home")}}>Home</a>
				</li>
				<li>
					<a onclick=${()=>{this.navigate("/persons/123")}}>persons</a>
				</li>
			</ul>
			<select onchange=${t=>{this.translations.setDefaultLanguage(t.target.value)}}>
				<option value='en'>EN</option>
				<option value='fr'>FR</option>
			</select>	
			<div>${"name".translate()}</div>
			<router-outlet></router-outlet>
			<input type='text' ref=${this.inputField} /><button onclick=${()=>{this.getRef()}}>click</button>
    </div>
    `}};l=Object(n.a)([Object(s.a)({selector:"app-root",root:!0,styleUrl:"main.scss"}),Object(n.c)("design:paramtypes",[s.d,s.e])],l)},8:function(t,e,i){"use strict";function n(t,e=[],i={}){let n,s=((t,e,i)=>{let n=[],s=[],r=e&&e.length>0?e:[];return r.length>0&&r.map(t=>{if("props"!==t){let e=I.get(t);if(e){let t=e;n.push(t)}}}),s=[t,n],s})(t,e);return n=s[1].length>0?new s[0](...s[1]):new s[0],n}const s=Symbol("klass"),r=t=>"function"==typeof t,a=Symbol("design:inputTypes");var o=i(20);class l{constructor(){this.defaultLanguage=""}setTranslate(t,e){Object(o.setTranslate)(t,e)}setDefaultLanguage(t){this.defaultLanguage=t,Object(o.setDefaultLanguage)(t);let e=u.translationComponents.entries(),i=e.next();for(;!i.done;){let t=i.value[0];"router-outlet"!==i.value[1]&&t.update(),i=e.next()}}getCurrentLanguage(){return this.defaultLanguage}}class u{}u.translationComponents=new Map;var h=i(0),c=i(21),p=i(22),d=i(9);let m=new WeakMap;const g=t=>{if(null==t||"object"!=typeof t)return t;let e=t.constructor();for(let i in t)e[i]=t[i];return e};class f{constructor(t,e,i){this.interval=null,this._obj=null,this._actualValue=null,this._clonedValue=null,this._handler=null,this.defineProp(t,e,i),t.objVal=null,this._obj=t,this._actualValue=t[e],this._clonedValue=t[e],this._watchableProp=e,this._handler=i}dirtyWatch(){this.interval=setInterval(()=>{this._actualValue=this._obj[this._watchableProp],((t,e)=>{e||(e={});let i=[];for(let n in t)e[n]&&t[n]===e[n]||i.push(n);if(0===i.length)for(let n in e)t[n]&&e[n]===t[n]||i.push(n);return i})(this._actualValue,this._clonedValue).length>0&&(this._handler(this._clonedValue,this._actualValue),this._clonedValue=g(this._actualValue))},50)}defineProp(t,e,i){let n=this;const s=((t,e)=>{let i=Object.getOwnPropertyDescriptor(t,e);return i?i.set:void 0})(t,e),r=e=>{let s=g(t.objVal);n._actualValue=g(e),i(s,e),t.objVal=e};Object.defineProperty(t,e,{get:()=>t.objVal,set:function(t){r.call(this,t),s&&s(t)},enumerable:!0,configurable:!0})}unwatch(){this.interval&&clearInterval(this.interval),delete this._obj[this._watchableProp],delete this._obj.objVal,this._actualValue=null,this._clonedValue=null}}var b=i(14);let v=!1,w=new CSSStyleSheet,_=new Map;const S=t=>_.has(t)?_.get(t):"",T=(t="")=>{let e=new CSSStyleSheet;return t&&e.replace(S(t)),[w,e]},P=(t,e,i,r,o)=>{if(!o)if(r&&!v&&t.styleUrl){_=I.get("COMPILEDCSS"),v=!0;const e=document.createElement("style");let i=S(t.styleUrl);e.innerText=(i||"").toString(),w.replace((i||"").toString()),document.getElementsByTagName("head")[0].appendChild(e)}else if(r&&v)throw Error("Cannot register duplicate root component in "+t.selector+" component");window.customElements.define(t.selector,class extends HTMLElement{constructor(){super(),this.update=()=>{this.init()},this.getModel=()=>this[s],this.shadow=o?this:this.attachShadow({mode:"open"}),T(t.styleUrl),this.shadow.adoptedStyleSheets=o?[]:T(t.styleUrl),this._inputprop=Reflect.getMetadata(a,e),this._inputprop&&((t,e,i)=>{if(!m.has(t)){let n=new f(t,e,i);m.set(t,n),n.dirtyWatch()}})(this,this._inputprop,(t,e)=>{e!==t&&this[s]&&this[s][this._inputprop]&&(this[s][this._inputprop]=this[this._inputprop],this.update())})}init(){let t=this[s].render.bind(this[s]);d.b.bind(this[s],this.shadow,t)()}connectedCallback(){var r,a,o;this[s]=Object(b.a)((r=e,a=i,o=this[this._inputprop],()=>n(r,a,o)))(),this[s].element=this.shadow,this[s].beforeMount&&this[s].beforeMount(),this.init(),this[s].update=this.update.bind(this),this[s].mount&&this[s].mount(),u.translationComponents.set(this,t.selector)}disconnectedCallback(){u.translationComponents.delete(this),this._inputprop&&(t=>{if(m.has(t)){m.get(t).unwatch(),m.delete(t)}})(this),this[s].unmount&&this[s].unmount()}})},y=t=>(c.a.getMetadata("design:paramtypes",t)||[]).map(t=>t?"Object"!==t.name?t.name:"props":"");let j=t=>e=>{let i=((t,e)=>{if(t.selector.indexOf("-")<=0)throw new Error("You need at least 1 dash in the custom element name!");return{deps:y(e),isRoot:!!t.root&&t.root}})(t,e),n=p.isNode;e.prototype.selector=t.selector,P(t,e,i.deps,i.isRoot,n)};const O=()=>t=>{let e=y(t);I.register(t.name,t,e)},R=()=>(t,e)=>{c.a.defineMetadata(a,e,t.constructor)},C=()=>{let t=class{constructor(t){this.router=t,this.template="",this.isRoutesAdded=!1}beforeMount(){this.router.$templateSubscriber.subscribe(t=>{this.template=t,this.update()})}mount(){let t=this;window.onpopstate=function(){t.router.navigateTo(window.location.pathname)};let e=window.location.pathname;this.router.navigateTo("/"!==e?e:"")}unmount(){this.router.$templateSubscriber.unsubscribe()}render(){if(this.template){const t=[`${this.template}`];return t.raw=[`${this.template}`],Object(d.a)(t)}return d.a`
					<div></div>
				`}};t=Object(h.a)([j({selector:"router-outlet"}),Object(h.c)("design:paramtypes",[$])],t)};var E=i(23),V=i(29),k=i(30),M=i(28);class L{static checkParams(t,e){let i=0,n={},s=e.ParamCount;for(let s=0;s<t.length;s++){var r=e.Params[s];r.indexOf(":")>=0&&(n[r.split(":")[1]]=t[s],i+=1)}return i===s?n:{}}static getParamCount(t){let e=0;return t.forEach(t=>{t.indexOf(":")>=0&&(e+=1)}),e}static formatRoute(t){let e={Params:{},Url:"",Template:"",ParamCount:0,IsRegistered:!1,redirectTo:""};if(e.Params=t.path.split("/").filter(t=>t.length>0),e.Url=t.path,e.Template="",e.redirectTo=t.redirectTo,t.template){if(!t.templatePath)throw Error("templatePath is required in route if template is mentioned.");e.Template=t.template,e.TemplatePath=(i=t.templatePath(),Object(E.a)(Promise.resolve(i)).pipe(Object(M.a)(t=>Object(V.a)(t))))}var i;e.ParamCount=L.getParamCount(e.Params),L.routList.push(e)}}L.routList=[];class ${constructor(){this.currentRoute={params:{}},this.currentPage="",this.previousPage="",this.$templateSubscriber=new k.a}_navigateTo(t){if(this.currentPage!==t){this.previousPage=this.currentPage,this.currentPage=t;let e=t.split("/").filter(t=>t.length>0),i=L.routList.filter(i=>i.Params.length===e.length||i.Url===t?i:void 0),n=i.length>0?i[0]:null;if(n){let i=L.checkParams(e,n);Object.keys(i).length>0||t?(this.currentRoute.params=i,n.IsRegistered?(window.history.pushState(null,"",t),this.$templateSubscriber.next(n.Template)):n.TemplatePath&&n.TemplatePath.subscribe(e=>{n.IsRegistered=!0,window.history.pushState(null,"",t),this.$templateSubscriber.next(n.Template)})):this._navigateTo(n.redirectTo)}}}getCurrentRoute(){return this.currentRoute}navigateTo(t=""){this._navigateTo(t)}onNavigationStart(t){t&&r(t)&&window.addEventListener("hashchange",t,!1)}}class x{constructor(t,e,i){C(),this.getCurrentRoute=t,this.navigateTo=e,this.onNavigationStart=i}static registerRoutes(t){if(!(t instanceof Array))throw Error("router.addRoutes: the parameter must be an array");for(let e of t)L.formatRoute(e)}}const I=(()=>{const t=new class{constructor(){this._map=new Map,this.get=this._map.get.bind(this._map),this.set=this._map.set.bind(this._map),this._defaultServices()}_defaultServices(){let t=JSON.parse(JSON.stringify({"main.scss":"","persons-list.scss":".test{list-style:none;margin:0;padding:0}.test li{color:#000}\n"}));this.registerService("COMPILEDCSS",new Map(Object.entries(t))),this.registerService("TranslationService",new l);const e=new $;this.registerService("InternalRouter",e),this.registerService("Router",new x(e.getCurrentRoute.bind(e),e.navigateTo.bind(e),e.onNavigationStart.bind(e)))}getService(t){let e=this.get(t);if(e)return e;throw Error(`${t} is not a registered provider.`)}clear(){this._map=new Map}registerService(t,e,i=[]){if(!t||!e)throw"error: Requires name and constructor to define service";if(!this.get(t))if(r(e)){let s=n(e,i);this.set(t,s)}else this.set(t,e)}};return{register:t.registerService.bind(t),get:t.getService.bind(t),clear:t.clear.bind(t)}})();let N=class{constructor(){this.transition="",this.whichTransitionEnd()}removeTransition(t){t.removeEventListener(this.transition,()=>{},!1)}whichTransitionEnd(){let t=document.createElement("div").style,e={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(let i in e)if(void 0!==t[i]){this.transition=e[i];break}}onTransitionEnd(t,e,i){let n=!1,s=()=>{n||(n=!0,e&&e(),this.removeTransition(t))};t.addEventListener(this.transition,()=>{s()},!1);setTimeout(()=>{s()},i)}};N=Object(h.a)([O(),Object(h.c)("design:paramtypes",[])],N),i.d(e,"a",(function(){return j})),i.d(e,"b",(function(){return O})),i.d(e,"f",(function(){return d.a})),i.d(e,"c",(function(){return R})),i.d(e,"d",(function(){return x})),i.d(e,"e",(function(){return l})),i.d(e,"g",(function(){return b.b}))}},[[25,2,4]]]);
//# sourceMappingURL=main.chunk.js.map